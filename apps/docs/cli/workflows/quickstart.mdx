---
title: "Quickstart"
description: "Create your first codemod workflow project and run it locally."
---

import { CLIDemo } from "/snippets/cli-demo.mdx";

<Frame>
    <CLIDemo />
</Frame>

<Steps>
  <Step title="Create a new codemod project">
    ```bash
    npx codemod init
    ```

    When creating a new codemod project, you'll be prompted for:

    - **Project directory**
    - **Codemod type:**
      - Shell command workflow codemod
      - JavaScript ast-grep codemod
      - YAML ast-grep codemod
    - **Project name**
    - **Description**
    - **Author**
    - **License type**
    - **If your codemod is private**

    This creates a new folder with the required files and structure.
  </Step>

  <Step title="Explore the generated project">
    A typical combined workflow package (matching the example below) looks like:

    ```plaintext
    example-codemod/
    ├── .gitignore
    ├── README.md
    ├── codemod.yaml        # Codemod package manifest and metadata
    ├── workflow.yaml       # Workflow definition for running the codemod
    ├── scripts/            # JS/TS codemods and shell scripts
    │   └── codemod.ts      # JS ast-grep codemod entry point
    └── rules/              # YAML ast-grep rule definitions
        └── config.yml
    ```

    <Info>
      You can combine different codemod types in a single package by placing each type under its required directory (e.g., <code>scripts/</code> for shell scripts & JavaScript ast-grep (jssg) transforms, <code>rules/</code> for ast-grep rules) and referencing them from <code>workflow.yaml</code>.
    </Info>
  </Step>

  <Step title="Understand an example workflow">
    The generated <code>workflow.yaml</code> will differ depending on the codemod type you select:

    ```yaml Combined (jssg + yaml + shell + ai)
    version: "1"
    nodes:
      - id: run-all
        name: Combined Example
        type: automatic
        steps:
          # 1) JS ast-grep (jssg)
          - name: "JS ast-grep codemod"
            js-ast-grep:
              js_file: "scripts/codemod.ts"
              base_path: "."
              language: "typescript"
              include:
                - "**/*.ts"
                - "**/*.tsx"

          # 2) YAML ast-grep
          - name: "Apply YAML ast-grep rules"
            ast-grep:
              config_file: "rules/config.yml"
              base_path: "./src"
              include:
                - "**/*.ts"
              exclude:
                - "**/*.test.ts"

          # 3) Shell command
          - name: "Format code"
            run: npx prettier --write "**/*.{ts,tsx,js,jsx}"

          # 4) AI step
          - name: "AI review"
            ai:
              prompt: |
                Summarize risky changes and suggest tests.
              timeout_ms: 60000
    ```
  </Step>

  <Step title="Validate & run your workflow">
    ```bash
    npx codemod workflow validate -w workflow.yaml
    npx codemod workflow run -w workflow.yaml
    ```

    This will check your workflow for errors and then run it locally.

    <Info>
      The <code>workflow validate</code> command checks syntax and schema compliance, but not logical correctness. Always test with real data to ensure expected behavior.
    </Info>
  </Step>
</Steps>


